[{"kind":1,"language":"markdown","value":"# SPARQL Exercise solutions"},{"kind":1,"language":"markdown","value":"#### Q.2. Which of the leaders of member states of the European Union are independent politicians, according to DBpedia.\r\n- Q.2.1. Find EU member states with the following query:\r\n"},{"kind":2,"language":"sparql","value":"SELECT DISTINCT ?MS ?leader\r\nWHERE {\r\n?MS    a           dbo:Country;\r\n       dct:subject dbc:Member_states_of_the_European_Union }"},{"kind":1,"language":"markdown","value":"- Q.2.2. Find all country leaders\r\n- Q.2.3. Find the independent politicians among them"},{"kind":2,"language":"sparql","value":"SELECT DISTINCT ?MS ?leader\r\nWHERE {\r\n?MS    a           dbo:Country;\r\n       dct:subject dbc:Member_states_of_the_European_Union ;\r\n       dbp:leaderName ?leader .                   #Q.2.2\r\n \r\n?leader dbp:party dbr:Independent_politician .    #Q.2.3\r\n}"},{"kind":1,"language":"markdown","value":"#### Q.3. Based on the query from Q.2, find the total number of children of EU leaders (of which Dbpedia “knows”)."},{"kind":2,"language":"sparql","value":"SELECT (COUNT (DISTINCT ?child) AS ?Number_of_children)\r\n\r\n{\r\n?MS a dbo:Country; \r\n    dct:subject dbc:Member_states_of_the_European_Union ;\r\n    dbp:leaderName ?leader . \r\n\r\n?leader dbo:child ?child.\r\n} "},{"kind":1,"language":"markdown","value":"#### Q.11 Find in Cellar all SKOS notes in one EU language."},{"kind":2,"language":"sparql","value":"SELECT DISTINCT * \r\n\r\nWHERE {​​​​​​​​​​​\r\n  ?s ?noteType ?note .\r\n  ?noteType rdfs:subPropertyOf* skos:note .\r\n    \r\n  FILTER (LANG(?note) = \"en\")\r\n    \r\n}​​​​​​​​​​​"},{"kind":1,"language":"markdown","value":"#### Find the 1000 most populated cities from Wikidata and show their Chinese labels."},{"kind":2,"language":"sparql","value":"SELECT DISTINCT ?city ?cityLabel ?population\r\n{\r\n  ?city wdt:P31/wdt:P279* wd:Q515;\r\n             wdt:P1082 ?population;\r\n             rdfs:label ?cityLabel .\r\n#FILTER (LANG(?cityLabel) = \"zh\")\r\nFILTER LANGMATCHES(LANG(?cityLabel), \"zh\")\r\n}\r\nORDER BY DESC (?population)\r\nLIMIT 1000"},{"kind":1,"language":"markdown","value":"#### Q.14 Get the following data from Wikidata about head of states of Member States of the EU:"},{"kind":1,"language":"markdown","value":"Q.14.1 Get image grid of all head of states of Member States of the EU."},{"kind":2,"language":"sparql","value":"SELECT DISTINCT ?ms ?msLabel ?hos ?hosLabel ?hosImage \r\n \r\nWHERE {\r\n  ?ms wdt:P463 wd:Q458;\r\n      wdt:P35 ?hos .\r\n  ?hos wdt:P18 ?hosImage ;\r\n  \r\n      SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }\r\n}"},{"kind":1,"language":"markdown","value":"Q.14.2. Find spouse's of these heads of state, if available.\r\n"},{"kind":2,"language":"sparql","value":"SELECT DISTINCT ?ms ?msLabel ?hos ?hosLabel ?spouseLabel \r\n \r\nWHERE {\r\n  ?ms wdt:P463 wd:Q458;\r\n      wdt:P35 ?hos .\r\n \r\n      OPTIONAL {?hos wdt:P26 ?spouse .}\r\n  \r\n      SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }\r\n}\r\n\r\nORDER BY DESC(?spouseLabel)"},{"kind":1,"language":"markdown","value":"Q.14.3. Find the start dates of all head of states of EU members, for which there is information in Wikidata.\r\n"},{"kind":2,"language":"sparql","value":"SELECT DISTINCT ?ms ?hos ?hosLabel ?msLabel ?start\r\n \r\nWHERE {\r\n  ?ms wdt:P463 wd:Q458;\r\n      p:P35 [ ps:P35 ?hos;\r\n            pq:P580 ?start] .\r\n  \r\n      SERVICE wikibase:label { bd:serviceParam wikibase:language \"[AUTO_LANGUAGE],en\". }\r\n}\r\nORDER BY ?msLabel"}]